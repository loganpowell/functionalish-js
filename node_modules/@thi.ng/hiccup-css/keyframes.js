import { formatDecls, indent } from "./impl";
import { percent } from "./units";
export function at_keyframes(id, ...args) {
    const stops = args.length === 1 ? args[0] : { 0: args[0], 100: args[1] };
    return (acc, opts) => {
        const outer = indent(opts);
        opts.depth++;
        const inner = indent(opts);
        acc.push(`${outer}@keyframes ${id}${opts.format.declStart}`);
        for (let s in stops) {
            if (stops.hasOwnProperty(s)) {
                acc.push([
                    inner,
                    percent(s),
                    opts.format.declStart,
                    formatDecls(stops[s], opts),
                    inner,
                    opts.format.declEnd
                ].join(""));
            }
        }
        opts.depth--;
        acc.push(outer + opts.format.declEnd);
        return acc;
    };
}
