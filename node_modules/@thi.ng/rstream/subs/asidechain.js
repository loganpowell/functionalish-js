import { Subscription } from "../subscription";
/**
 * Abstract base class for sidechained subscription types (e.g.
 * {@link sidechainPartition}, {@link sidechainToggle}).
 */
export class ASidechain extends Subscription {
    constructor(opts) {
        super(undefined, opts);
    }
    unsubscribe(sub) {
        const res = super.unsubscribe(sub);
        if (!sub || !this.subs.length) {
            this.sideSub.unsubscribe();
        }
        return res;
    }
    done() {
        this.sideSub.unsubscribe();
        super.done();
    }
}
