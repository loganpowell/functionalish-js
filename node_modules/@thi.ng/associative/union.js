import { xformSetOp } from "./internal/xform-setop";
import { into } from "./into";
import { copy } from "./utils";
/**
 * Computes union of sets `a` and `b` and writes results to new set or
 * optionally given set `out` (assumed to be empty for correct results).
 *
 * @param a - first set
 * @param b - other set
 * @param out - result set
 */
export const union = (a, b, out) => {
    if (a.size < b.size) {
        const t = a;
        a = b;
        b = t;
    }
    out = out ? into(out, a) : copy(a, Set);
    return a === b ? out : into(out, b);
};
export function unionR(src) {
    return xformSetOp(unionR, union, src);
}
