import { xformSetOp } from "./internal/xform-setop";
import { into } from "./into";
import { copy, empty } from "./utils";
/**
 * Computes the difference of sets `a - b` and writes results to new set
 * or optionally given set `out` (assumed to be empty for correct
 * results).
 *
 * @param a - first set
 * @param b - other set
 * @param out - optional result set
 */
export const difference = (a, b, out) => {
    if (a === b) {
        return out || empty(a, Set);
    }
    out = out ? into(out, a) : copy(a, Set);
    for (let i of b) {
        out.delete(i);
    }
    return out;
};
export function differenceR(src) {
    return xformSetOp(differenceR, difference, src);
}
